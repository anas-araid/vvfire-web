(function(e){function t(t){for(var a,n,r=t[0],l=t[1],d=t[2],m=0,u=[];m<r.length;m++)n=r[m],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(u.length)u.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],a=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(a=!1)}a&&(o.splice(t--,1),e=n(n.s=i[0]))}return e}var a={},s={app:0},o=[];function n(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=a,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/vvfire-web/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=l;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var a=i("85ec"),s=i.n(a);s.a},"0449":function(e,t,i){},"11b4":function(e,t,i){"use strict";var a=i("7f38"),s=i.n(a);s.a},"240f":function(e,t,i){},"28fa":function(e,t,i){},"35db":function(e,t,i){"use strict";var a=i("b24f"),s=i.n(a);s.a},"3c5f":function(e,t,i){e.exports=i.p+"img/reperibilita.c0ab80b0.png"},"3d40":function(e,t,i){e.exports=i.p+"img/app.371537a5.svg"},"443c":function(e,t,i){"use strict";var a=i("b418"),s=i.n(a);s.a},4678:function(e,t,i){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return i(t)}function o(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=o,e.exports=s,s.id="4678"},"4c39":function(e,t,i){e.exports=i.p+"img/homepage.080d428a.svg"},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container",attrs:{id:"app"}},[i("router-view")],1)},o=[],n={name:"App",created:function(){this.$session.start()}},r=n,l=(i("034f"),i("2877")),d=Object(l["a"])(r,s,o,!1,null,null,null),c=d.exports,m=(i("45fc"),i("8c4f")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-app-content",{style:"border:0;padding:0;height:"+(e.fullHeight-140)+"px"},[a("div",{staticClass:"md-layout md-alignment-center-center style-home-card"},[a("div",{staticClass:"md-layout-item md-large-size-70 md-medium-size-70 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"left"}},[a("span",{staticClass:"md-display-3",staticStyle:{"font-weight":"200"}},[e._v("Changing the way we "),a("i",{staticClass:"style-red-text"},[e._v("rescue")])]),a("br"),a("span",{staticClass:"md-display-1",staticStyle:{"font-weight":"200"}},[e._v("L'innovazione a portata di mano")]),a("br"),a("br"),a("br"),a("button",{staticClass:"circleScaleBtn",on:{click:function(t){return e.router.push({name:"Login"})}}},[a("span",[e._v("INIZIA SUBITO!")])]),a("button",{staticClass:"snapLeftBtn",on:{click:function(t){return e.scopri()}}},[a("span",[e._v("SCOPRI DI PIU'")])])]),a("div",{staticClass:"md-layout-item md-large-size-30 md-medium-size-30 md-small-size-100 md-xsmall-size-100"},[a("img",{attrs:{src:i("4c39")}})])]),a("div",[a("md-icon",{staticClass:"arrowBounce"},[e._v("keyboard_arrow_down")])],1),a("div",{staticClass:"md-layout md-alignment-center-center style-home-card",attrs:{id:"funzionalita"}},[a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-100 md-xsmall-size-100"},[a("img",{attrs:{src:i("7ce4")}})]),a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[a("span",{staticClass:"md-display-1",staticStyle:{"font-weight":"200"}},[e._v("Gestione completa degli interventi di ricerca persona")]),a("br"),a("br"),a("span",{staticClass:"md-display-1 md-xsmall-hide",staticStyle:{"font-weight":"200","font-size":"24px"}},[e._v("Un'alternativa facile e veloce ai costosi localizzatori gps, basta uno smartphone!")]),a("br")])]),a("div",{staticClass:"md-layout md-alignment-center-center style-home-card"},[a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"left"}},[a("span",{staticClass:"md-display-1",staticStyle:{"font-weight":"200"}},[e._v("La localizzazione e la gestione delle tracce gps non sono mai stati così semplici!")]),a("br"),a("br"),a("br"),a("span",{staticClass:"md-display-1 md-xsmall-hide",staticStyle:{"font-weight":"200","font-size":"24px"}},[e._v(" Potrai facilmente monitorare la posizione del personale in ogni momento, avere un riepilogo delle aree perlustate ed un riepilogo complessivo per valutare l'efficenza della ricerca svolta. ")])]),a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-100 md-xsmall-size-100"},[a("img",{attrs:{src:i("cb92")}})])]),a("div",{staticClass:"md-layout md-alignment-center-center style-home-card"},[a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-50 md-xsmall-size-100"},[a("img",{attrs:{src:i("3c5f")}})]),a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-50 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[a("span",{staticClass:"md-display-1",staticStyle:{"font-weight":"200"}},[e._v("Consulta la reperibilità del personale")]),a("br"),a("br"),a("span",{staticClass:"md-display-2 md-xsmall-hide",staticStyle:{"font-weight":"200","font-size":"24px"}},[e._v(" Hai bisogno di personale per un intervento non urgente? Non sai chi al momento sia reperibile? "),a("br"),e._v(" Controlla subito il calendario in piattaforma, ti mostrerà tutti i vigili disponibili! ")])])]),a("div",{staticClass:"md-layout md-alignment-center-center style-home-card"},[a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-50 md-xsmall-size-100",staticStyle:{"text-align":"left"}},[a("span",{staticClass:"md-display-1",staticStyle:{"font-weight":"200"}},[e._v("Funzionalità in via di sviluppo")]),a("br"),a("br"),a("br"),a("br"),a("span",{staticClass:"md-display-1",staticStyle:{"font-weight":"200","font-size":"28px"}},[e._v(" Documentazione fotografica degli interventi ")]),a("br"),a("br"),a("span",{staticClass:"md-display-1 md-xsmall-hide",staticStyle:{"font-weight":"200","font-size":"24px"}},[e._v(" Avere una rapporto d'intervento con allegato una documentazione fotografica, spesso si rivela fondamentale per ricostruire le operazioni svolte, soprattutto se si tratta di eventi accaduti molto tempo fa. ")])]),a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-50 md-xsmall-size-100"},[a("img",{staticStyle:{"border-radius":"7px",width:"70%",margin:"30px"},attrs:{src:i("7e88")}})])]),a("div",{staticClass:"md-layout md-alignment-center-center style-home-card"},[a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-50 md-xsmall-size-100"},[a("img",{staticStyle:{width:"70%",margin:"30px"},attrs:{src:i("3d40")}})]),a("div",{staticClass:"md-layout-item md-large-size-50 md-medium-size-33 md-small-size-50 md-xsmall-size-100",staticStyle:{"text-align":"left"}},[a("br"),a("br"),a("span",{staticClass:"md-display-1",staticStyle:{"font-weight":"200","font-size":"28px"}},[e._v(" App per Android e iOS ")]),a("br"),a("br"),a("span",{staticClass:"md-display-1 md-xsmall-hide ",staticStyle:{"font-weight":"200","font-size":"24px"}},[e._v(" Componente fondamentale per il funzionamento della piattaforma, tramite il proprio smartphone sarà possible impostare la propria reperibilità ed utilizzare il proprio dispositivo come localizzatore gps durante gli interventi di ricerca persona. ")])])]),a("footer-component")],1)},p=[],g=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"md-layout md-alignment-center-right",staticStyle:{"background-color":"#E0E0E0",width:"100%",padding:"12px","margin-top":"20px",bottom:"0px","margin-bottom":"0px"}},[i("div",{staticClass:"md-layout-item md-large-size-100 md-medium-size-100 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"right",padding:"15px"}},[i("span",{staticClass:"Subheading",staticStyle:{"font-weight":"200"}},[e._v(" © 2020 VVFire Anas Araid ")]),i("br"),i("span",{staticClass:"Subheading",staticStyle:{"font-weight":"200"}},[i("i",[e._v("Dai soccorritori per i soccorritori.")])])])])}],v={name:"Footer"},f=v,b=Object(l["a"])(f,g,h,!1,null,null,null),y=b.exports,_={name:"Home",data:function(){return{showNavigation:!1,fullHeight:document.documentElement.clientHeight,router:Ni}},components:{"footer-component":y},create:function(){window.addEventListener("resize",this.myEventHandler())},mounted:function(){window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(e){console.log(e),this.fullHeight=document.documentElement.clientHeight},scopri:function(){window.location.href="#funzionalita"}}},C=_,z=(i("d61d"),Object(l["a"])(C,u,p,!1,null,"7b1459c6",null)),k=z.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed"}},[i("md-app-toolbar",{staticClass:"style-fixed-toolbar md-dense"},[i("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.showNavigation=!0}}},[i("md-icon",{staticClass:"style-red-text"},[e._v("menu")])],1),i("span",{staticClass:"md-title style-red-text"},[i("b",[e._v("VVF")]),e._v("ire")]),i("div",{staticClass:"md-toolbar-section-end"},[i("md-button",{staticClass:"style-red-text",attrs:{to:this.navBarButtonLink}},[e._v(e._s(this.navBarButton))])],1)],1),i("md-app-drawer",{attrs:{"md-active":e.showNavigation,"md-swipeable":"","md-fixed":""},on:{"update:mdActive":function(t){e.showNavigation=t},"update:md-active":function(t){e.showNavigation=t}}},[i("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[i("span",{staticClass:"md-title style-red-text"},[i("b",[e._v("VVF")]),e._v("ire")])]),i("md-list",[i("md-list-item",{attrs:{to:"/"}},[i("md-icon",[e._v("home")]),i("span",{staticClass:"md-list-item-text"},[e._v("Home")])],1),i("md-list-item",{attrs:{to:"/login"}},[i("md-icon",[e._v("login")]),i("span",{staticClass:"md-list-item-text"},[e._v("Accedi")])],1),i("md-list-item",{attrs:{href:"/#download"}},[i("md-icon",[e._v("get_app")]),i("span",{staticClass:"md-list-item-text"},[e._v("Download app")])],1)],1)],1),i("md-app-content",{staticStyle:{height:"100%",padding:"0"}},[i("router-view"),i("router-view",{attrs:{name:"homepage"}})],1)],1)},D=[],w={name:"HomeLayout",data:function(){return{showNavigation:!1,navBarButton:null,navBarButtonLink:null}},created:function(){this.navbarButton()},updated:function(){this.navbarButton()},methods:{navbarButton:function(){"/"===this.$route.path?(this.navBarButton="ACCEDI",this.navBarButtonLink="/login"):(this.$route.path,this.navBarButton="HOME",this.navBarButtonLink="/")}}},M=w,R=(i("b560"),Object(l["a"])(M,x,D,!1,null,"0558c993",null)),A=R.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("md-app-content",{staticStyle:{height:"100%",border:"none"}},[a("div",{staticClass:"md-layout md-alignment-center-center",staticStyle:{"min-height":"500px",height:"100%"}},[this.message.active?a("Dialog",{attrs:{data:this.message}}):e._e(),a("div",{staticClass:"md-layout-item md-large-size-60 md-medium-size-100 md-small-size-50 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-size-5"}),a("div",{staticClass:"md-layout-item md-size-90"},[a("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.auth()}}},[a("md-card",{staticClass:"md-layout-item md-size-90 md-small-size-100"},[this.loading?a("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):e._e(),a("md-card-header",[a("div",{staticClass:"md-title"},[e._v("Accedi")])]),a("md-card-content",[a("div",{staticClass:"md-layout md-gutter"},[a("div",{staticClass:"md-layout-item md-small-size-100"},[a("md-field",[a("md-icon",{staticClass:"style-red-text"},[e._v("email")]),a("label",{attrs:{for:"email"}},[e._v("Email")]),a("md-input",{attrs:{type:"email",name:"email",id:"email",autocomplete:"email",disabled:e.loading,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("span",{staticClass:"md-error"},[e._v("Inserire l'email")])],1),a("md-field",[a("md-icon",{staticClass:"style-red-text"},[e._v("vpn_key")]),a("label",{attrs:{for:"password"}},[e._v("Password")]),a("md-input",{attrs:{type:"password",name:"password",id:"password",disabled:e.loading,required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)])]),a("md-card-actions",[a("md-button",{staticClass:"md-accent",attrs:{type:"submit",disabled:e.loading}},[e._v("Accedi")])],1)],1)],1)]),a("div",{staticClass:"md-layout-item md-size-5"})])]),a("div",{staticClass:"md-layout-item md-large-size-40 md-medium-size-33 md-medium-hide"},[a("img",{attrs:{src:i("ebec")}})])],1)])},E=[],V=i("bc3a"),N=i.n(V),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-dialog",{attrs:{"md-active":e.data.active,"md-click-outside-to-close":!1,"md-close-on-esc":!1,"md-fullscreen":!1},on:{"update:mdActive":function(t){return e.$set(e.data,"active",t)},"update:md-active":function(t){return e.$set(e.data,"active",t)}}},[i("md-dialog-title",[e._v(e._s(this.data.title))]),i("md-dialog-content",[e._v(e._s(this.data.content))]),i("md-dialog-actions",[i("md-button",{staticClass:"md-accent",on:{click:function(t){return e.clicked()}}},[e._v("OK")])],1)],1)},O=[],S={Name:"Dialog",props:{data:{type:Object}},methods:{clicked:function(){this.data.active=!1,!1!==this.data.url&&(window.location.href=this.data.url,window.location.reload(!0))}}},T=S,L=Object(l["a"])(T,I,O,!1,null,null,null),P=L.exports,$={logout:function(){a["default"].prototype.$session.destroy()},saveData:function(e,t){a["default"].prototype.$session.set("vvfire_jwt",{token:t,timestamp:(new Date).getTime()}),a["default"].prototype.$session.set("vvfire_data",e)},getCorpoVVFData:function(){return a["default"].prototype.$session.get("vvfire_data")},isTokenValid:function(){var e=a["default"].prototype.$session.get("vvfire_jwt");if(0==e||null==e)return!1;var t=this.timeDifference((new Date).getTime(),e.timestamp);return!(t>0)||(this.logout(),!1)},timeDifference:function(e,t){var i=e-t,a=Math.floor(i/1e3/60/60/24);return a},getToken:function(){var e=a["default"].prototype.$session.get("vvfire_jwt");return 0!=e&&null!=e&&e}},B=i("6821"),F=i.n(B),U={name:"Login",data:function(){return{showNavigation:!1,loading:!1,message:{active:!1,content:null,url:null},email:"",password:""}},components:{Dialog:P},created:function(){$.isTokenValid()&&this.$router.push("dashboard")},methods:{auth:function(){var e=this;this.loading=!0,N.a.post("http://localhost:1337/api/v1/corpovvf/login",{email:this.email,password:F()(this.password)}).then((function(t){e.loading=!1;var i=t.data[0];"401"===i["error"]&&e.dialog("Errore","Credenziali non valide","#/login"),i["error"]||($.saveData(i.corpovvf[0],i.token),e.$router.push("/dashboard"))}),(function(t){e.loading=!1,console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/login")}))},dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i}}},G=U,q=(i("f8c3"),Object(l["a"])(G,j,E,!1,null,"de5ab3f4",null)),H=q.exports,Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed"}},[i("md-app-toolbar",{staticClass:"style-fixed-toolbar md-dense"},[i("md-button",{staticClass:"md-icon-button",on:{click:function(t){e.showNavigation=!0}}},[i("md-icon",{staticClass:"style-red-text"},[e._v("menu")])],1),i("span",{staticClass:"md-title style-red-text"},[i("b",[e._v("VVF")]),e._v("ire")]),i("div",{staticClass:"md-toolbar-section-end"},[i("md-button",{staticClass:"style-red-text",on:{click:function(t){return e.logout()}}},[e._v("LOGOUT")])],1)],1),i("md-app-drawer",{attrs:{"md-active":e.showNavigation,"md-swipeable":"","md-permanent":"full"},on:{"update:mdActive":function(t){e.showNavigation=t},"update:md-active":function(t){e.showNavigation=t}}},[i("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[i("span",{staticClass:"md-title style-red-text"},[i("b",[e._v("VVF")]),e._v("ire")])]),i("md-list",[i("md-list-item",{attrs:{to:"/"}},[i("md-icon",[e._v("home")]),i("span",{staticClass:"md-list-item-text"},[e._v("Home")])],1),i("md-list-item",{attrs:{to:"/impostazioni"}},[i("md-icon",[e._v("settings")]),i("span",{staticClass:"md-list-item-text"},[e._v("Impostazioni")])],1),i("md-list-item",{attrs:{to:"/vigili"}},[i("md-icon",[e._v("account_circle")]),i("span",{staticClass:"md-list-item-text"},[e._v("Vigili")])],1),i("md-list-item",{attrs:{to:"/reperibilita"}},[i("md-icon",[e._v("watch_later")]),i("span",{staticClass:"md-list-item-text"},[e._v("Reperibilità")])],1),i("md-list-item",{attrs:{to:"/ricercapersona"}},[i("md-icon",[e._v("explore")]),i("span",{staticClass:"md-list-item-text"},[e._v("Ricerca persona")])],1)],1)],1),i("md-app-content",{staticStyle:{height:"100%"}},[this.message.active?i("Dialog",{attrs:{data:this.message},on:{clicked:e.checkExpiredDialog}}):e._e(),i("router-view"),i("router-view",{attrs:{name:"loggedContent"}})],1)],1)},J=[],K={name:"Dashboard",data:function(){return{showNavigation:!1,navBarButton:null,navBarButtonLink:null,message:{active:!1,content:null}}},components:{Dialog:P},created:function(){this.checkToken()},updated:function(){this.checkToken()},methods:{checkExpiredDialog:function(e){e&&this.logout()},navbarButton:function(){"/"===this.$route.path?(this.navBarButton="ACCEDI",this.navBarButtonLink="/login"):(this.$route.path,this.navBarButton="HOME",this.navBarButtonLink="/")},checkToken:function(){this.navbarButton(),$.isTokenValid()||(this.message.active=!0,this.message.title="Attenzione",this.message.content="Sessione scaduta, è necessario autenticarsi nuovamente",this.message.url="#/")},logout:function(){$.logout(),window.location.href="/"}}},Q=K,W=(i("11b4"),Object(l["a"])(Q,Z,J,!1,null,"32c43082",null)),X=W.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[i("div",{staticClass:"md-layout md-alignment-center-center"},[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),i("div",{staticClass:"md-layout-item md-large-size-80 md-medium-size-100 md-small-size-50 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.updateData()}}},[i("md-card",{staticClass:"md-layout-item md-size-90 md-small-size-100"},[this.loading?i("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):e._e(),i("md-card-header",[i("div",{staticClass:"md-title"},[e._v("Impostazioni")])]),i("md-card-content",[i("div",{staticClass:"md-layout md-gutter"},[i("div",{staticClass:"md-layout-item md-small-size-100"},[i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("location_city")]),i("label",{attrs:{for:"caserma"}},[e._v("Caserma")]),i("md-input",{attrs:{type:"text",name:"caserma",id:"caserma",autocomplete:"caserma",disabled:e.loading,maxlength:"50",required:""},model:{value:e.caserma,callback:function(t){e.caserma=t},expression:"caserma"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il nome della caserma")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("phone")]),i("label",{attrs:{for:"phone"}},[e._v("Numero di telefono")]),i("md-input",{attrs:{type:"number",name:"phone",id:"phone",autocomplete:"phone",disabled:e.loading,maxlength:"50",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il numero di telefono valido")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("email")]),i("label",{attrs:{for:"email"}},[e._v("Email")]),i("md-input",{attrs:{type:"email",name:"email",id:"email",autocomplete:"email",disabled:e.loading,maxlength:"150",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("span",{staticClass:"md-error"},[e._v("Inserire un'email valida")])],1),i("md-field",{class:{"md-invalid":e.checkPassword()}},[i("md-icon",{staticClass:"style-red-text"},[e._v("vpn_key")]),i("label",{attrs:{for:"password"}},[e._v("Password")]),i("md-input",{attrs:{type:"password",name:"password",id:"password",disabled:e.loading,maxlength:"50",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),i("span",{staticClass:"md-error"},[e._v("Le password non corrispondono")])],1),i("md-field",{class:{"md-invalid":e.checkPassword()}},[i("md-icon",{staticClass:"style-red-text"},[e._v("vpn_key")]),i("label",{attrs:{for:"confermaPassword"}},[e._v("Conferma password")]),i("md-input",{attrs:{type:"password",name:"confermaPassword",id:"confermaPassword",disabled:e.loading,maxlength:"50",required:""},model:{value:e.confermaPassword,callback:function(t){e.confermaPassword=t},expression:"confermaPassword"}}),i("span",{staticClass:"md-error"},[e._v("Le password non corrispondono")])],1)],1)])]),i("md-card-actions",[i("md-button",{staticClass:"md-accent",attrs:{type:"submit",disabled:e.loading}},[e._v("AGGIORNA")])],1)],1)],1)])],1),i("br"),i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-large-size-80 md-medium-size-100 md-small-size-50 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.deleteAccount()}}},[i("md-card",{staticClass:"md-layout-item md-size-90 md-small-size-100"},[i("md-card-header",[i("div",{staticClass:"md-title style-red-text"},[e._v("Elimina account")])]),i("md-card-content",[i("div",{staticStyle:{"text-align":"center"}},[i("p",[e._v("ATTENZIONE! TUTTI I DATI VERRANNO CANCELLATI DEFINITIVAMENTE, E NON SARA' POI POSSIBILE RECUPERARLI")])]),i("div",{staticClass:"md-layout md-gutter"},[i("div",{staticClass:"md-layout-item md-small-size-100"},[i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("vpn_key")]),i("label",{attrs:{for:"passwordDeleteForm"}},[e._v("Password")]),i("md-input",{attrs:{type:"password",name:"passwordDeleteForm",id:"passwordDeleteForm",maxlength:"50",required:""},model:{value:e.passwordDeleteForm,callback:function(t){e.passwordDeleteForm=t},expression:"passwordDeleteForm"}})],1)],1)])]),i("md-card-actions",[i("md-button",{staticClass:"md-raised md-accent",attrs:{type:"submit"}},[e._v("RIMUOVI DEFINITIVAMENTE")])],1)],1)],1)])]),i("br")])},ee=[],te=(i("b0c0"),{getCorpoData:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/corpovvf/find-by-email",{email:e},{headers:{Authorization:t}})},updateCorpovvf:function(e,t,i,a,s){if(!$.isTokenValid())return!1;var o=$.getToken()["token"];return N.a.patch("http://localhost:1337/api/v1/corpovvf/update",{id:e,name:t,phone:i,email:a,password:s},{headers:{Authorization:o}})},deleteCorpovvf:function(e,t){if(!$.isTokenValid())return!1;var i=$.getToken()["token"];return N.a.delete("http://localhost:1337/api/v1/corpovvf/delete",{headers:{"Content-Type":"application/json",Authorization:i},data:{id:e,password:t}})}}),ie={name:"Impostazioni",data:function(){return{showNavigation:!1,loading:!1,message:{active:!1,content:null,url:null},corpoID:"",email:"",password:"",caserma:"",phone:"",confermaPassword:"",passwordDeleteForm:""}},components:{Dialog:P},mounted:function(){var e=this;this.loading=!0;var t=$.getCorpoVVFData()["email"];te.getCorpoData(t).then((function(t){var i=t.data[0];if(i["error"])switch(i["error"]){case"401":e.dialog("Errore","Accesso non autorizzato, credenziali non valide, rieffettuare l'accesso","#/dashboard");break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/dashboard");break}else{var a=i.corpovvf[0];e.corpoID=a.id,e.email=a.email,e.caserma=a.name,e.phone=a.phone,e.loading=!1}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard")}))},methods:{checkPassword:function(){return this.password!==this.confermaPassword},dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i},updateData:function(){var e=this;return this.loading=!0,this.checkPassword()?(this.dialog("Errore","Le password non corrispondono","#/impostazioni"),void(this.loading=!1)):null===this.caserma||null===this.phone||null===this.email||null===this.password||null===this.confermaPassword?(this.dialog("Errore","Inserire tutti i campi","#/impostazioni"),void(this.loading=!1)):(te.updateCorpovvf(this.corpoID,this.caserma,this.phone,this.email,F()(this.password)).then((function(t){var i=t.data[0];if(i["error"])switch(i["error"]){case"401":e.dialog("Errore","Accesso non autorizzato, credenziali non valide, rieffettuare l'accesso","#/dashboard");break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/impostazioni");break}else{var a=i.corpovvf;$.saveData(a,$.getToken()["token"]),e.corpoID=a.id,e.email=a.email,e.caserma=a.name,e.phone=a.phone,e.loading=!1}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard")})),this.password=null,void(this.confermaPassword=null))},deleteAccount:function(){var e=this;null!==this.corpoID&&void 0!==this.corpoID&&null!==this.passwordDeleteForm&&void 0!==this.passwordDeleteForm?(te.deleteCorpovvf(this.corpoID,F()(this.passwordDeleteForm)).then((function(t){var i=t.data;if(!1===i.error)$.logout(),e.dialog("","Account rimosso","#/");else if(!0===i.error)e.dialog("Errore","Impossibile cancellare l'account, contattare l'amministratore","#/");else switch(i[0]["error"]){case"401":e.dialog("Errore","Accesso non autorizzato, credenziali non valide","#/impostazioni");break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/impostazioni");break}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/impostazioni")})),this.confermaPassword=""):this.dialog("Errore","Impossibile cancellare il corpo vvf, ricaricare la pagina o rieffetture l'accesso. Se il problema persiste contattare l'amministratore","#/impostazioni")}}},ae=ie,se=Object(l["a"])(ae,Y,ee,!1,null,null,null),oe=se.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[i("div",{staticClass:"md-layout md-alignment-center-center",staticStyle:{margin:"10px"}},[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.deleteAlert.active?i("deleteVigileDialog",{attrs:{data:this.deleteAlert},on:{deleteVigile:function(t){return e.deleteVigile()}}}):e._e(),this.nuovoVigileON?i("nuovo-vigile",{attrs:{data:this.nuovoVigileON},on:{nuovoVigileClosed:function(t){return e.closeNuovoVigile()},addVigileAlert:function(t){return e.addVigileAlert()}}}):e._e(),this.editVigile.active?i("modifica-vigile",{attrs:{data:this.editVigile},on:{modificaVigileClosed:function(t){return e.closeModificaVigile()},editVigileAlert:function(t){return e.editVigileAlert()}}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("md-card",{staticStyle:{"overflow-x":"auto"}},[i("md-card-content",[0===this.allVigili.length||this.errored?this.errored?i("div",{staticStyle:{"text-align":"center"}},[i("h3",[e._v("Errore")])]):this.datiPresenti?e._e():i("div",{staticStyle:{"text-align":"center"}},[i("md-empty-state",{attrs:{"md-rounded":"","md-icon":"search_off","md-label":"","md-description":"Per aggiungere i vigili, clicca il tasto rosso in basso a destra."}})],1):i("div",{staticStyle:{"overflow-x":"auto"}},[i("md-table",[i("md-table-toolbar",[i("h1",{staticClass:"md-title"},[e._v("Lista dei vigili")])]),i("md-table-row",[i("md-table-head",{staticClass:"style-table-header"},[e._v("COGNOME")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("NOME")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("NUMERO DI CELLULARE")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("EMAIL")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("AUTISTA")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("GRADO")]),i("md-table-head",{staticClass:"style-table-header"}),i("md-table-head",{staticClass:"style-table-header"})],1),e._l(this.allVigili,(function(t){return i("md-table-row",{key:t.id},[i("md-table-head",{attrs:{"md-label":"cognome"}},[e._v(e._s(t.surname))]),i("md-table-head",{attrs:{"md-label":"nome"}},[e._v(e._s(t.name))]),i("md-table-head",{attrs:{"md-label":"numero"}},[e._v(e._s(t.phone))]),i("md-table-head",{attrs:{"md-label":"email"}},[e._v(e._s(t.email))]),i("md-table-head",{attrs:{"md-label":"autista"}},[e._v(e._s(t.autista?"SI":"NO"))]),i("md-table-head",{attrs:{"md-label":"grado"}},[e._v(e._s(t.gradoName))]),i("md-table-head",{attrs:{"md-label":"modifica"}},[i("a",{on:{click:function(i){return e.openModificaVigile(t.id)}}},[e._v("MODIFICA")])]),i("md-table-head",{attrs:{"md-label":"elimina"}},[i("a",{staticClass:"style-red-text",on:{click:function(i){return e.alertDeleteVigile(t.id)}}},[e._v("RIMUOVI")])])],1)}))],2)],1)])],1)],1),i("md-button",{staticClass:"md-fab md-fab-bottom-right",attrs:{disabled:this.loading},on:{click:function(t){return e.openNuovoVigile()}}},[i("md-icon",[e._v("add")])],1),i("br")],1)},re=[],le=(i("4de4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("md-dialog-confirm",{attrs:{"md-active":e.data.active,"md-title":"Sei sicuro di voler eliminare l'account del vigile?","md-content":"Verranno eliminati <strong>definitivamente</strong> tutti i dati associato al vigile.","md-confirm-text":"CONTINUA","md-cancel-text":"ANNULLA"},on:{"update:mdActive":function(t){return e.$set(e.data,"active",t)},"update:md-active":function(t){return e.$set(e.data,"active",t)},"md-cancel":e.onCancel,"md-confirm":e.onConfirm}})],1)}),de=[],ce={name:"deleteVigileDialog",data:function(){return{active:!1}},props:{data:{type:Object}},methods:{onConfirm:function(){this.$emit("deleteVigile")},onCancel:function(){this.active=!1}}},me=ce,ue=(i("5f1e"),Object(l["a"])(me,le,de,!1,null,null,null)),pe=ue.exports,ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),i("md-dialog",{attrs:{"md-active":this.isActive,"md-close-on-esc":!1,"md-fullscreen":!0},on:{"update:mdActive":function(t){return e.$set(this,"isActive",t)},"update:md-active":function(t){return e.$set(this,"isActive",t)}}},[i("md-dialog-title",[e._v("Aggiungi vigile")]),i("md-dialog-content",{staticClass:"style-dialog"},[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-large-size-100 md-medium-size-100 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.createVigile()}}},[i("md-card",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[i("md-card-content",[i("div",{staticClass:"md-layout md-gutter"},[i("div",{staticClass:"md-layout-item md-small-size-100"},[i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("account_circle")]),i("label",{attrs:{for:"name"}},[e._v("Nome")]),i("md-input",{attrs:{type:"text",name:"name",id:"name",autocomplete:"name",maxlength:"50",required:""},model:{value:e.nome,callback:function(t){e.nome=t},expression:"nome"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il nome del vigile")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("account_circle")]),i("label",{attrs:{for:"surname"}},[e._v("Cognome")]),i("md-input",{attrs:{type:"text",name:"surname",id:"surname",autocomplete:"surname",maxlength:"50",required:""},model:{value:e.cognome,callback:function(t){e.cognome=t},expression:"cognome"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il cognome del vigile")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("call")]),i("label",{attrs:{for:"phone"}},[e._v("Numero di cellulare")]),i("md-input",{attrs:{type:"text",name:"phone",id:"phone",autocomplete:"phone",maxlength:"50",required:""},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}}),i("span",{staticClass:"md-error"},[e._v("Inserire numero di cellulare")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("email")]),i("label",{attrs:{for:"email"}},[e._v("Email")]),i("md-input",{attrs:{type:"email",name:"email",id:"email",autocomplete:"email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("span",{staticClass:"md-error"},[e._v("Inserire l'email")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("grade")]),i("label",{attrs:{for:"grado"}},[e._v("Grado")]),i("md-select",{attrs:{name:"grado",id:"grado",value:e.selectedGrado,required:""},model:{value:e.selectedGrado,callback:function(t){e.selectedGrado=t},expression:"selectedGrado"}},e._l(this.gradi,(function(t){return i("md-option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),i("div",{staticClass:"input",staticStyle:{"text-align":"left"}},[i("md-checkbox",{attrs:{id:"autista","true-value":"true","false-value":"false"},model:{value:e.autista,callback:function(t){e.autista=t},expression:"autista"}},[e._v("Autista (patente C)")])],1)],1)])]),i("md-card-actions",[i("md-button",{staticClass:"style-red-bg",attrs:{type:"submit"}},[e._v("AGGIUNGI")]),i("md-button",{staticClass:"md-accent",on:{click:function(t){return e.close()}}},[e._v("ANNULLA")])],1)],1)],1)])])])],1)],1)},he=[],ve={getGradi:function(){var e=$.getToken()["token"];return N.a.get("http://localhost:1337/api/v1/grado/show",{headers:{Authorization:e}})},getGradoByID:function(e){var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/grado/find-by-id",{id:e},{headers:{Authorization:t}})}},fe={getVigili:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/vigile/show",{idcorpo:e},{headers:{Authorization:t}})},getVigileByID:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/vigile/find-by-id",{id:e},{headers:{Authorization:t}})},newVigile:function(e,t,i,a,s,o,n,r){var l=this.generateTemporaryPassword(a);if(!$.isTokenValid())return!1;var d=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/vigile/create",{name:e,surname:t,phone:i,autista:s,email:a,password:F()(l),fkGrado:n,fkCorpovvf:r},{headers:{Authorization:d}})},updateVigile:function(e,t,i,a,s,o,n){if(!$.isTokenValid())return!1;var r=$.getToken()["token"];return N.a.patch("http://localhost:1337/api/v1/vigile/update",{id:e,name:t,surname:i,phone:a,autista:o,fkGrado:n,email:s},{headers:{Authorization:r}})},deleteVigile:function(e){if(!$.isTokenValid())return!1;var t=$.getCorpoVVFData()["id"];if(null===t||void 0===t)return!1;var i=$.getToken()["token"];return N.a.delete("http://localhost:1337/api/v1/vigile/delete",{headers:{"Content-Type":"application/json",Authorization:i},data:{id:e,fkCorpovvf:t}})},generateTemporaryPassword:function(e){return F()(e).substring(0,8)}},be={Name:"nuovoVigile",props:{data:{type:Boolean}},components:{Dialog:P},data:function(){return{isActive:this.data,nome:null,cognome:null,email:null,telefono:null,autista:!1,gradi:[],selectedGrado:null,message:{active:!1,content:null,url:null}}},beforeCreate:function(){var e=this;ve.getGradi().then((function(t){var i=t.data;0!==i.length&&(e.gradi=i.reverse())}))},methods:{clicked:function(){this.data.nuovoVigileON=!1},close:function(){this.isActive=!1,this.$emit("nuovoVigileClosed")},createVigile:function(){var e=this,t=this.nome,i=this.cognome,a=this.email,s=this.telefono,o=!!this.autista,n=this.selectedGrado;if(null!==t&&null!==i&&null!==a&&null!==s&&null!==o&&null!==n){var r=$.getCorpoVVFData()["id"],l=!1;fe.newVigile(t,i,s,a,o,l,n,r).then((function(t){200===t.status&&(e.$emit("addVigileAlert"),e.close())}),(function(t){console.log(t),e.errored=!0,e.dialog("Errore","Impossibile aggiungere il vigile, controllare se l'email o il numero di telefono sono stati già immessi. Se il problema persiste contattare l'amministratore","#/vigili")}))}else this.errored=!0,this.dialog("Errore","Impossibile aggiungere il vigile, controllare se tutti i campi sono stati compilati. Se il problema persiste contattare l'amministratore","#/vigili")},dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i}}},ye=be,_e=(i("35db"),Object(l["a"])(ye,ge,he,!1,null,null,null)),Ce=_e.exports,ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),i("md-dialog",{attrs:{"md-active":this.isActive,"md-close-on-esc":!1,"md-fullscreen":!0},on:{"update:mdActive":function(t){return e.$set(this,"isActive",t)},"update:md-active":function(t){return e.$set(this,"isActive",t)}}},[i("md-dialog-title",[e._v("Modifica vigile")]),i("md-dialog-content",{staticClass:"style-dialog"},[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-large-size-100 md-medium-size-100 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.updateVigile()}}},[i("md-card",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[this.loading?i("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):e._e(),i("md-card-content",[i("div",{staticClass:"md-layout md-gutter"},[i("div",{staticClass:"md-layout-item md-small-size-100"},[i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("account_circle")]),i("label",{attrs:{for:"name"}},[e._v("Nome")]),i("md-input",{attrs:{type:"text",name:"name",id:"name",autocomplete:"name",maxlength:"50",required:""},model:{value:e.nome,callback:function(t){e.nome=t},expression:"nome"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il nome del vigile")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("account_circle")]),i("label",{attrs:{for:"surname"}},[e._v("Cognome")]),i("md-input",{attrs:{type:"text",name:"surname",id:"surname",autocomplete:"surname",maxlength:"50",required:""},model:{value:e.cognome,callback:function(t){e.cognome=t},expression:"cognome"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il cognome del vigile")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("call")]),i("label",{attrs:{for:"phone"}},[e._v("Numero di cellulare")]),i("md-input",{attrs:{type:"text",name:"phone",id:"phone",autocomplete:"phone",maxlength:"50",required:""},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}}),i("span",{staticClass:"md-error"},[e._v("Inserire numero di cellulare")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("email")]),i("label",{attrs:{for:"email"}},[e._v("Email")]),i("md-input",{attrs:{type:"email",name:"email",id:"email",autocomplete:"email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("span",{staticClass:"md-error"},[e._v("Inserire l'email")])],1),i("md-field",[i("md-icon",{staticClass:"style-red-text"},[e._v("grade")]),i("label",{attrs:{for:"grado"}},[e._v("Grado")]),i("md-select",{attrs:{name:"grado",id:"grado",value:e.selectedGrado,required:""},model:{value:e.selectedGrado,callback:function(t){e.selectedGrado=t},expression:"selectedGrado"}},e._l(this.gradi,(function(t){return i("md-option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),i("div",{staticClass:"input",staticStyle:{"text-align":"left"}},[i("md-checkbox",{attrs:{id:"autista"},model:{value:e.autista,callback:function(t){e.autista=t},expression:"autista"}},[e._v("Autista (patente C)")])],1)],1)])]),i("md-card-actions",[i("md-button",{staticClass:"style-red-bg",attrs:{type:"submit"}},[e._v("MODIFICA")]),i("md-button",{staticClass:"md-accent",on:{click:function(t){return e.close()}}},[e._v("ANNULLA")])],1)],1)],1)])])])],1)],1)},ke=[],xe={Name:"modificaVigile",props:{data:{type:Object}},components:{Dialog:P},data:function(){return{isActive:this.data.active,idVigile:null,nome:null,cognome:null,email:null,telefono:null,autista:!1,gradi:[],selectedGrado:null,message:{active:!1,content:null,url:null},loading:!0}},beforeCreate:function(){var e=this;ve.getGradi().then((function(t){var i=t.data;0!==i.length&&(e.gradi=i.reverse())}))},mounted:function(){var e=this;this.loading=!0,fe.getVigileByID(this.data.idVigile).then((function(t){var i=t.data[0];if(i.error)"404"===i.error&&(e.loading=!1,e.dialog("Errore","Vigile non trovato","#/vigili"));else{var a=i.vigile[0];e.idVigile=a.id,e.nome=a.name,e.cognome=a.surname,e.autista=!!a.autista,e.telefono=a.phone,e.email=a.email,e.selectedGrado=a.fkGrado,e.loading=!1}}),(function(t){console.log(t),e.errored=!0,e.loading=!1,e.dialog("Errore","Il server non ha resitutito i dati. Se il problema persiste contattare l'amministratore","#/vigili")}))},methods:{clicked:function(){this.data.nuovoVigileON=!1},close:function(){this.isActive=!1,this.$emit("modificaVigileClosed")},updateVigile:function(){var e=this,t=this.nome,i=this.cognome,a=this.email,s=this.telefono,o=!!this.autista,n=this.selectedGrado,r=this.idVigile;null!==t&&null!==i&&null!==a&&null!==s&&null!==o&&null!==n?fe.updateVigile(r,t,i,s,a,o,n).then((function(t){200===t.status&&(e.$emit("editVigileAlert"),e.close())}),(function(t){console.log(t),e.errored=!0,e.dialog("Errore","Impossibile aggiornare i dati il vigile. Se il problema persiste contattare l'amministratore","#/vigili")})):(this.errored=!0,this.dialog("Errore","Impossibile aggiornare i dati il vigile, controllare se tutti i campi sono stati compilati. Se il problema persiste contattare l'amministratore","#/vigili"))},dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i}}},De=xe,we=(i("ebc0"),Object(l["a"])(De,ze,ke,!1,null,null,null)),Me=we.exports,Re={name:"Vigili",data:function(){return{showNavigation:!1,loading:!0,message:{active:!1,content:null,url:null},deleteAlert:{active:!1,idVigile:null},editVigile:{active:!1,idVigile:null},allVigili:[],errored:!1,datiPresenti:!0,nuovoVigileON:!1,gradi:[]}},components:{Dialog:P,deleteVigileDialog:pe,"nuovo-vigile":Ce,"modifica-vigile":Me},mounted:function(){this.fetchVigili()},methods:{fetchVigili:function(){var e=this;this.loading=!0;var t=$.getCorpoVVFData()["id"];ve.getGradi().then((function(i){e.gradi=i.data,e.gradi!==[]?fe.getVigili(t).then((function(t){var i=t.data[0];if(i["error"])switch(i["error"]){case"401":e.dialog("Errore","Accesso non autorizzato, non puoi a visualizzare questa pagina","#/dashboard");break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/dashboard");break}else{e.allVigili=i.vigili;for(var a=0;a<e.allVigili.length;a++)e.allVigili[a].gradoName=e.gradi.filter((function(t){return t.id===e.allVigili[a].fkGrado}))[0].name;e.datiPresenti=!(0===e.allVigili.length)}e.loading=!1}),(function(t){console.log(t),e.errored=!0,e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard"),e.loading=!1})):(e.dialog("Errore","Il server non ha restituito i dati relativi ai gradi dei vigili, contatta l' amministratore","#/dashboard"),e.loading=!1)}))},dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i},openNuovoVigile:function(){this.nuovoVigileON=!0},openModificaVigile:function(e){this.editVigile.idVigile=e,this.editVigile.active=!0},closeNuovoVigile:function(){this.nuovoVigileON=!1},closeModificaVigile:function(){this.editVigile.active=!1},addVigileAlert:function(){this.dialog("","Vigile aggiunto con successo",!1),this.fetchVigili()},editVigileAlert:function(){this.dialog("","Dati del vigile aggiornati con successo",!1),this.fetchVigili()},alertDeleteVigile:function(e){this.deleteAlert.active=!0,this.deleteAlert.idVigile=e},deleteVigile:function(){var e=this,t=this.deleteAlert.idVigile;fe.deleteVigile(t).then((function(t){var i=t.data;if(!1===i.error)e.dialog("","Account del vigile rimosso con successo",!1),e.fetchVigili();else if(!0===i.error)e.dialog("Errore","Impossibile cancellare l'account, contattare l'amministratore","#/vigili");else switch(i[0]["error"]){case"401":e.dialog("Errore","Non sei autorizzato a cancellare l'account del vigile, se credi ci sia stato un errore, contatta l'amministratore","#/vigili");break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/vigili");break}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard")}))}}},Ae=Re,je=Object(l["a"])(Ae,ne,re,!1,null,null,null),Ee=je.exports,Ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[i("div",{staticClass:"md-layout md-alignment-center-center"},[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("div",{staticClass:"md-layout-item md-large-size-80 md-medium-size-100 md-small-size-50 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("span",{staticClass:"md-display-1"},[e._v("Personale reperibile")]),i("br"),i("br"),i("vue-cal",{staticStyle:{"max-height":"600px"},attrs:{"time-from":420,"time-to":1380,"disable-views":["years","year"],locale:"it",events:e.events,"on-event-click":e.onEventClick}})],1)],1),i("md-button",{staticClass:"md-fab md-fab-bottom-right",attrs:{disabled:this.loading},on:{click:function(t){return e.getDisponiblita()}}},[i("md-icon",[e._v("refresh")])],1),i("br")],1)},Ne=[],Ie=(i("ac1f"),i("5319"),i("7fa7")),Oe=i.n(Ie),Se=(i("b55b"),i("01d4"),{getDisponiblita:function(){if(!$.isTokenValid())return!1;var e=$.getCorpoVVFData()["id"],t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/disponibilita/show",{idcorpo:e},{headers:{Authorization:t}})}}),Te={name:"Reperibilita",data:function(){return{showNavigation:!1,loading:!0,message:{active:!1,content:null,url:null},events:[],selectedEvent:null}},components:{Dialog:P,"vue-cal":Oe.a},mounted:function(){this.getDisponiblita()},methods:{getDisponiblita:function(){var e=this;this.loading=!0,this.events=[],Se.getDisponiblita().then((function(t){var i=t.data[0];i.error||function(){for(var t=i.disponibilita,a=function(a){fe.getVigileByID(t[a].fkVigile).then((function(s){var o=s.data[0];if(o["error"])switch(i["error"]){case"401":e.dialog("Errore","Accesso non autorizzato, non puoi a visualizzare questa pagina","#/impostazioni"),e.loading=!1;break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/reperibilita"),e.loading=!1;break}else{var n=o.vigile[0],r={hour12:!1,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};e.events.push({id:t[a].id,start:new Date(t[a].startTime).toLocaleString("en",r).replace(/,/,""),end:new Date(t[a].endTime).toLocaleString("en",r).replace(/,/,""),title:n.name+" "+n.surname,contentFull:n.phone,class:"style-event-color"}),e.loading=!1}}))},s=0;s<t.length;s++)a(s)}(),e.loading=!1}),(function(t){e.errored=!0,console.log(t),e.loading=!1}))},dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i},onEventClick:function(e,t){this.selectedEvent=e;var i="Vigile: "+this.selectedEvent.title+" | Numero di telefono: "+this.selectedEvent.contentFull;this.dialog("Dettagli",i,!1),t.stopPropagation()}}},Le=Te,Pe=Object(l["a"])(Le,Ve,Ne,!1,null,null,null),$e=Pe.exports,Be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[i("div",{staticClass:"md-layout md-alignment-center-center"},[this.newRicerca?i("nuovaRicercaDialog",{attrs:{active:this.newRicerca},on:{ricercaDialogClosed:e.closeNewRicerca,createNuovaRicerca:e.createNewRicerca}}):e._e(),this.updateDataDialog.active?i("updateRicercaDialog",{attrs:{data:this.updateDataDialog},on:{updateRicercaDialogClosed:e.closeUpdateRicerca,updateRicerca:e.updateRicerca}}):e._e(),this.deleteDataDialog.active?i("deleteRicercaDialog",{attrs:{data:this.deleteDataDialog},on:{deleteRicerca:e.deleteRicerca}}):e._e(),this.completeRicercaDialog.active?i("completeRicercaDialog",{attrs:{data:this.completeRicercaDialog},on:{completeRicerca:e.completeRicerca}}):e._e(),this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("md-card",{staticStyle:{"overflow-x":"auto"}},[i("md-card-content",[0===this.allRicerche.length||this.errored?this.errored?i("div",{staticStyle:{"text-align":"center"}},[i("h3",[e._v("Errore")])]):this.datiPresenti?e._e():i("div",{staticStyle:{"text-align":"center"}},[i("md-empty-state",{attrs:{"md-rounded":"","md-icon":"search_off","md-label":"","md-description":"Per creare una nuova ricerca persona, clicca il tasto rosso in basso a destra."}})],1):i("div",{staticStyle:{"overflow-x":"auto"}},[i("md-table",[i("md-table-toolbar",[i("h1",{staticClass:"md-title"},[e._v("Lista ricerche")])]),i("md-table-row",[i("md-table-head",{staticClass:"style-table-header"},[e._v("NOME RICERCA")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("INIZIO RICERCA")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("FINE RICERCA")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("STATO")]),i("md-table-head",{staticClass:"style-table-header"}),i("md-table-head",{staticClass:"style-table-header"}),i("md-table-head",{staticClass:"style-table-header"})],1),e._l(this.allRicerche,(function(t){return i("md-table-row",{key:t.id},[i("md-table-head",{attrs:{"md-label":"name"}},[e._v(e._s(t.name))]),i("md-table-head",{attrs:{"md-label":"startTime"}},[e._v(" "+e._s(new Date(t.startTime).toLocaleString("it",{hour12:!1,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).replace(/,/,""))+" ")]),i("md-table-head",{attrs:{"md-label":"endTime"}},[e._v(" "+e._s(t.completed?new Date(t.endTime).toLocaleString("it",{hour12:!1,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).replace(/,/,""):"-")+" ")]),i("md-table-head",{attrs:{"md-label":"completed"}},[e._v(e._s(t.completed?"COMPLETATO":"IN CORSO..."))]),i("md-table-head",{attrs:{"md-label":"mostra"}},[i("a",{on:{click:function(i){return e.router.push({name:"Missioni",params:{idRicerca:t.id}})}}},[e._v("MOSTRA")])]),i("md-table-head",{attrs:{"md-label":"modifica"}},[i("a",{on:{click:function(i){return e.openModificaRicerca(t.id,t.name)}}},[e._v("MODIFICA")])]),i("md-table-head",{attrs:{"md-label":"completa"}},[i("a",{class:{"style-green-text":!t.completed,"style-disabled-link":t.completed},on:{click:function(i){!t.completed&&e.alertCompleteRicerca(t.id)}}},[e._v("COMPLETA")])]),i("md-table-head",{attrs:{"md-label":"elimina"}},[i("a",{staticClass:"style-red-text",on:{click:function(i){return e.alertDeleteRicerca(t.id)}}},[e._v("RIMUOVI")])])],1)}))],2)],1)])],1)],1),i("md-button",{staticClass:"md-fab md-fab-bottom-right",attrs:{disabled:this.loading},on:{click:function(t){return e.openNewRicerca()}}},[i("md-icon",[e._v("add")])],1),i("br")],1)},Fe=[],Ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-dialog",{attrs:{"md-active":this.isActive,"md-close-on-esc":!1,"md-fullscreen":!1},on:{"update:mdActive":function(t){return e.$set(this,"isActive",t)},"update:md-active":function(t){return e.$set(this,"isActive",t)}}},[i("md-dialog-title",[e._v("Nuova ricerca persona")]),i("md-dialog-content",[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-large-size-100 md-medium-size-100 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.nuovaRicerca()}}},[i("md-field",[i("label",{attrs:{for:"name"}},[e._v("Nome")]),i("md-input",{attrs:{type:"text",name:"name",id:"name",autocomplete:"name",maxlength:"50",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il nome del ricerca")])],1),i("md-button",{staticClass:"style-red-bg",attrs:{type:"submit"}},[e._v("CREA")]),i("md-button",{staticClass:"md-accent",on:{click:function(t){return e.close()}}},[e._v("ANNULLA")])],1)])])])],1)},Ge=[],qe={name:"nuovaRicerca",props:{active:{type:Boolean}},data:function(){return{name:null,isActive:!0}},methods:{nuovaRicerca:function(){this.isActive=!1,this.$emit("createNuovaRicerca",this.name)},close:function(){this.isActive=!1,this.$emit("ricercaDialogClosed")}}},He=qe,Ze=Object(l["a"])(He,Ue,Ge,!1,null,null,null),Je=Ze.exports,Ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("md-dialog-confirm",{attrs:{"md-active":e.data.active,"md-title":"Sei sicuro di voler completare la ricerca?","md-content":"Una volta completata la ricerca, non sarà più possibile creare missioni.","md-confirm-text":"CONTINUA","md-cancel-text":"ANNULLA"},on:{"update:mdActive":function(t){return e.$set(e.data,"active",t)},"update:md-active":function(t){return e.$set(e.data,"active",t)},"md-cancel":e.onCancel,"md-confirm":e.onConfirm}})],1)},Qe=[],We={name:"completeRicercaDialog",data:function(){return{active:!1}},props:{data:{type:Object}},methods:{onConfirm:function(){this.$emit("completeRicerca"),this.active=!1},onCancel:function(){this.active=!1}}},Xe=We,Ye=(i("443c"),Object(l["a"])(Xe,Ke,Qe,!1,null,null,null)),et=Ye.exports,tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("md-dialog-confirm",{attrs:{"md-active":e.data.active,"md-title":"Sei sicuro di voler eliminare la ricerca persona selezionata?","md-content":"Verranno eliminati <strong>definitivamente</strong> tutti i dati (posizioni ecc.) relativi alla ricerca persona.","md-confirm-text":"CONTINUA","md-cancel-text":"ANNULLA"},on:{"update:mdActive":function(t){return e.$set(e.data,"active",t)},"update:md-active":function(t){return e.$set(e.data,"active",t)},"md-cancel":e.onCancel,"md-confirm":e.onConfirm}})],1)},it=[],at={name:"deleteRicercaDialog",data:function(){return{active:!1}},props:{data:{type:Object}},methods:{onConfirm:function(){this.$emit("deleteRicerca"),this.active=!1},onCancel:function(){this.active=!1}}},st=at,ot=(i("6cb1"),Object(l["a"])(st,tt,it,!1,null,null,null)),nt=ot.exports,rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-dialog",{attrs:{"md-active":this.isActive,"md-close-on-esc":!1,"md-fullscreen":!1},on:{"update:mdActive":function(t){return e.$set(this,"isActive",t)},"update:md-active":function(t){return e.$set(this,"isActive",t)}}},[i("md-dialog-title",[e._v("Modifica il nome della ricerca persona")]),i("md-dialog-content",[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-large-size-100 md-medium-size-100 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.editRicerca()}}},[i("md-field",[i("label",{attrs:{for:"name"}},[e._v("Nome")]),i("md-input",{attrs:{type:"text",name:"name",id:"name",autocomplete:"name",maxlength:"50",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il nome del ricerca")])],1),i("md-button",{staticClass:"style-red-bg",attrs:{type:"submit"}},[e._v("MODIFICA")]),i("md-button",{staticClass:"md-accent",on:{click:function(t){return e.close()}}},[e._v("ANNULLA")])],1)])])])],1)},lt=[],dt={name:"updateRicerca",props:{data:{type:Object}},data:function(){return{name:null,isActive:!0}},mounted:function(){this.name=this.data.nameRicerca},methods:{editRicerca:function(){this.isActive=!1,this.$emit("updateRicerca",{id:this.data.idRicerca,name:this.name})},close:function(){this.isActive=!1,this.$emit("updateRicercaDialogClosed")}}},ct=dt,mt=Object(l["a"])(ct,rt,lt,!1,null,null,null),ut=mt.exports,pt=i("c1df"),gt=i.n(pt),ht={getRiepilogoMissione:function(e){var t=$.getCorpoVVFData()["id"];if(!$.isTokenValid())return!1;var i=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/missione/get-riepilogo-missione",{idMissione:e,fkCorpovvf:t},{headers:{Authorization:i}})},getMissioniByRicerca:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/missione/get-missioni-by-ricerca",{fkRicerca:e},{headers:{Authorization:t}})},getMissioneById:function(e,t){if(!$.isTokenValid())return!1;var i=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/missione/find-by-id",{idMissione:e,fkCorpovvf:t},{headers:{Authorization:i}})},newMissione:function(e,t,i,a,s){if(!$.isTokenValid())return!1;var o=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/missione/create",{name:e,startTime:t,endTime:i,completed:a,fkRicerca:s},{headers:{Authorization:o}})},updateMissione:function(e,t){if(!$.isTokenValid())return!1;var i=$.getToken()["token"];return N.a.patch("http://localhost:1337/api/v1/missione/update",{id:e,name:t},{headers:{Authorization:i}})},completeMissione:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];gt()().locale("it");var i=gt()().format();return N.a.patch("http://localhost:1337/api/v1/missione/complete",{id:e,endTime:i},{headers:{Authorization:t}})},deleteMissione:function(e){if(!$.isTokenValid())return!1;var t=$.getCorpoVVFData()["id"];if(null===t||void 0===t)return!1;var i=$.getToken()["token"];return N.a.delete("http://localhost:1337/api/v1/missione/delete",{headers:{"Content-Type":"application/json",Authorization:i},data:{id:e,fkCorpovvf:t}})}},vt={getRicercheByCorpo:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/ricercapersona/show",{fkCorpovvf:e},{headers:{Authorization:t}})},getRicercaByID:function(e,t){if(!$.isTokenValid())return!1;var i=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/ricercapersona/find-by-id",{id:e,fkCorpovvf:t},{headers:{Authorization:i}})},newRicerca:function(e,t,i,a,s){if(!$.isTokenValid())return!1;var o=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/ricercapersona/create",{name:e,startTime:t,endTime:i,completed:a,fkCorpovvf:s},{headers:{Authorization:o}})},updateRicerca:function(e,t){if(!$.isTokenValid())return!1;var i=$.getToken()["token"];return N.a.patch("http://localhost:1337/api/v1/ricercapersona/update",{id:e,name:t},{headers:{Authorization:i}})},deleteRicerca:function(e){if(!$.isTokenValid())return!1;var t=$.getCorpoVVFData()["id"];if(null===t||void 0===t)return!1;var i=$.getToken()["token"];return N.a.delete("http://localhost:1337/api/v1/ricercapersona/delete",{headers:{"Content-Type":"application/json",Authorization:i},data:{id:e,fkCorpovvf:t}})},completeRicerca:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];gt()().locale("it");var i=gt()().format();return N.a.patch("http://localhost:1337/api/v1/ricercapersona/complete",{id:e,endTime:i},{headers:{Authorization:t}})}},ft={name:"RicercaPersona",data:function(){return{showNavigation:!1,loading:!1,message:{active:!1,content:null,url:null},deleteDataDialog:{active:!1,idRicerca:null},updateDataDialog:{active:!1,idRicerca:null,nameRicerca:null},completeRicercaDialog:{active:!1,idRicerca:null},datiPresenti:!1,allRicerche:[],errored:!1,newRicerca:!1,router:Ni,moment:gt.a}},components:{Dialog:P,nuovaRicercaDialog:Je,updateRicercaDialog:ut,deleteRicercaDialog:nt,completeRicercaDialog:et},mounted:function(){this.fetchRicerche()},methods:{dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i},openModificaRicerca:function(e,t){this.updateDataDialog.idRicerca=e,this.updateDataDialog.nameRicerca=t,this.updateDataDialog.active=!0},openNewRicerca:function(){this.newRicerca=!0},closeNewRicerca:function(){this.newRicerca=!1},fetchRicerche:function(){var e=this;this.loading=!0;var t=$.getCorpoVVFData()["id"];vt.getRicercheByCorpo(t).then((function(t){var i=t.data[0];if(e.allRicerche=[],i["error"])switch(i["error"]){case"401":e.dialog("Errore","Accesso non autorizzato, non puoi a visualizzare questa pagina","#/dashboard"),e.errored=!0;break;case"404":e.datiPresenti=!1,e.newRicerca=!1;break}else e.datiPresenti=!0,e.allRicerche=i.ricerche,e.newRicerca=!1;e.loading=!1}),(function(t){e.errored=!0,console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard"),e.loading=!1})),this.updateDataDialog.active=!1},createNewRicerca:function(e){var t=this;this.loading=!0;var i=e,a=$.getCorpoVVFData()["id"];this.moment().locale("it");var s=this.moment().format();vt.newRicerca(i,s,s,!1,a).then((function(e){var i=e.data[0];i.error?(t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona")):(t.fetchRicerche(),t.loading=!1)}),(function(e){console.log(e),t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona"),t.loading=!1}))},updateRicerca:function(e){var t=this;this.loading=!0;var i=e.id,a=e.name;vt.updateRicerca(i,a).then((function(e){var i=e.data[0];i.error?(t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona")):t.fetchRicerche()}),(function(e){console.log(e),t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona"),t.loading=!1}))},closeUpdateRicerca:function(){this.updateDataDialog.active=!1},alertDeleteRicerca:function(e){this.deleteDataDialog.active=!0,this.deleteDataDialog.idRicerca=e},alertCompleteRicerca:function(e){this.completeRicercaDialog.active=!0,this.completeRicercaDialog.idRicerca=e},completeRicerca:function(){var e=this;this.loading=!0;var t=this.completeRicercaDialog.idRicerca;vt.completeRicerca(t).then((function(i){var a=i.data[0];if(!1===a.error)e.fetchRicerche(),e.completeAllMissioni(t);else switch(a[0]["error"]){case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/ricercapersona");break}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard")})),this.loading=!1},deleteRicerca:function(){var e=this,t=this.deleteDataDialog.idRicerca;vt.deleteRicerca(t).then((function(t){var i=t.data;if(!1===i.error)e.fetchRicerche();else if(!0===i.error)e.dialog("Errore","Impossibile cancellare i dati relativi alla ricerca persona, contattare l'amministratore","#/ricercapersona");else switch(i[0]["error"]){case"401":e.dialog("Errore","Non sei autorizzato a cancellare i dati di questa ricerca persona, se credi ci sia stato un errore, contatta l'amministratore","#/ricercapersona");break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/ricercapersona");break}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard")}))},completeAllMissioni:function(e){ht.getMissioniByRicerca(e).then((function(e){var t=e.data[0],i=[];if(!t["error"]){i=t.missioni;for(var a=0;a<i.length;a++)ht.completeMissione(i[a].id)}}))}}},bt=ft,yt=Object(l["a"])(bt,Be,Fe,!1,null,null,null),_t=yt.exports,Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[i("div",{staticClass:"md-layout md-alignment-center-center"},[this.newMissione?i("nuovaMissioneDialog",{attrs:{active:this.newMissione},on:{missioneDialogClosed:e.closeNewMissione,createNuovaMissione:e.createNewMissione}}):e._e(),this.updateDataDialog.active?i("updateMissioneDialog",{attrs:{data:this.updateDataDialog},on:{updateMissioneDialogClosed:e.closeUpdateMissione,updateMissione:e.updateMissione}}):e._e(),this.deleteDataDialog.active?i("deleteMissioneDialog",{attrs:{data:this.deleteDataDialog},on:{deleteMissione:e.deleteMissione}}):e._e(),this.completeMissionDialog.active?i("completeMissioneDialog",{attrs:{data:this.completeMissionDialog},on:{completeMissione:e.completeMissione}}):e._e(),this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("div",{staticStyle:{"overflow-x":"auto"}},[0===e.allMissioni.length||this.errored?this.errored?i("div",{staticStyle:{"text-align":"center"}},[i("h3",[e._v("Errore")])]):this.datiPresenti?e._e():i("div",{staticStyle:{"text-align":"center"}},[i("md-empty-state",{attrs:{"md-rounded":"","md-icon":"search_off","md-label":"","md-description":"Per creare una nuova missione, clicca il tasto rosso in basso a destra."}})],1):i("div",[i("md-button",{staticClass:"style-button-green",on:{click:function(t){return e.router.push({name:"LiveMap"})}}},[i("md-icon",{staticStyle:{color:"white"}},[e._v("room")]),e._v(" MAPPA LIVE ")],1),i("md-button",{staticClass:"style-button-green",on:{click:function(t){return e.router.push({name:"RiepilogoComplessivo",params:{missioni:e.allMissioni,idRicerca:e.idRicerca}})}}},[i("md-icon",{staticStyle:{color:"white"}},[e._v("explore")]),e._v(" RIEPILOGO COMPLESSIVO")],1),i("br"),i("br"),e._l(e.allMissioni,(function(t){return i("div",{key:t[0].giorno},[i("md-card",[i("md-card-content",[i("div",[i("md-table",[i("md-table-toolbar",[i("h1",{staticClass:"md-title"},[e._v(e._s(t[0]))])]),i("md-table-row",[i("md-table-head",{staticClass:"style-table-header"},[e._v("NOME MISSIONE")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("INIZIO")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("FINE")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("STATO")]),i("md-table-head",{staticClass:"style-table-header"}),i("md-table-head",{staticClass:"style-table-header"}),i("md-table-head",{staticClass:"style-table-header"})],1),e._l(t[1].data,(function(t){return i("md-table-row",{key:t.id},[i("md-table-head",{attrs:{"md-label":"name"}},[e._v(e._s(t.name))]),i("md-table-head",{attrs:{"md-label":"startTime"}},[e._v(" "+e._s(e.moment(t.startTime).locale("it").format("LLL"))+" ")]),i("md-table-head",{attrs:{"md-label":"endTime"}},[e._v(" "+e._s(t.completed?e.moment(t.endTime).locale("it").format("LLL"):"-")+" ")]),i("md-table-head",{attrs:{"md-label":"completed"}},[e._v(e._s(t.completed?"COMPLETATO":"IN CORSO..."))]),i("md-table-head",{attrs:{"md-label":"mostra"}},[i("a",{on:{click:function(i){return e.router.push({name:"DettagliMissione",params:{idMissione:t.id}})}}},[e._v("MOSTRA")])]),i("md-table-head",{attrs:{"md-label":"modifica"}},[i("a",{on:{click:function(i){return e.openModificaMissione(t.id,t.name)}}},[e._v("MODIFICA")])]),i("md-table-head",{attrs:{"md-label":"completa"}},[i("a",{class:{"style-green-text":!t.completed,"style-disabled-link":t.completed},on:{click:function(i){!t.completed&&e.alertCompleteMissione(t.id)}}},[e._v("COMPLETA")])]),i("md-table-head",{attrs:{"md-label":"elimina"}},[i("a",{staticClass:"style-red-text",on:{click:function(i){return e.alertDeleteMissione(t.id)}}},[e._v("RIMUOVI")])])],1)}))],2)],1)]),i("md-divider",{staticClass:"md-inset"}),i("md-card-actions",[i("md-button",{staticClass:"md-raised",on:{click:function(i){return e.router.push({name:"RiepilogoGiornaliero",params:{missioni:t,idRicerca:e.idRicerca}})}}},[e._v("RIEPILOGO GIORNALIERO")])],1)],1),i("br")],1)}))],2)])],1),i("md-button",{staticClass:"md-fab md-fab-bottom-right",attrs:{disabled:this.loading||this.ricercaCompleted},on:{click:function(t){return e.openNewMissione()}}},[i("md-icon",[e._v("add")])],1),i("br")],1)},zt=[],kt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-dialog",{attrs:{"md-active":this.isActive,"md-close-on-esc":!1,"md-fullscreen":!1},on:{"update:mdActive":function(t){return e.$set(this,"isActive",t)},"update:md-active":function(t){return e.$set(this,"isActive",t)}}},[i("md-dialog-title",[e._v("Nuova missione")]),i("md-dialog-content",[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-large-size-100 md-medium-size-100 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.nuovaMissione()}}},[i("md-field",[i("label",{attrs:{for:"name"}},[e._v("Nome")]),i("md-input",{attrs:{type:"text",name:"name",id:"name",autocomplete:"name",maxlength:"50",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il nome della missione")])],1),i("md-button",{staticClass:"style-red-bg",attrs:{type:"submit"}},[e._v("CREA")]),i("md-button",{staticClass:"md-accent",on:{click:function(t){return e.close()}}},[e._v("ANNULLA")])],1)])])])],1)},xt=[],Dt={name:"nuovaMissioneDialog",props:{active:{type:Boolean}},data:function(){return{name:null,isActive:!0}},methods:{nuovaMissione:function(){this.isActive=!1,this.$emit("createNuovaMissione",this.name)},close:function(){this.isActive=!1,this.$emit("missioneDialogClosed")}}},wt=Dt,Mt=Object(l["a"])(wt,kt,xt,!1,null,null,null),Rt=Mt.exports,At=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("md-dialog-confirm",{attrs:{"md-active":e.data.active,"md-title":"Sei sicuro di voler completare la missione?","md-content":"Una volta completata la missione, non verranno più memorizzate le nuove posizioni in ingresso.","md-confirm-text":"CONTINUA","md-cancel-text":"ANNULLA"},on:{"update:mdActive":function(t){return e.$set(e.data,"active",t)},"update:md-active":function(t){return e.$set(e.data,"active",t)},"md-cancel":e.onCancel,"md-confirm":e.onConfirm}})],1)},jt=[],Et={name:"completeMissioneDialog",data:function(){return{active:!1}},props:{data:{type:Object}},methods:{onConfirm:function(){this.$emit("completeMissione"),this.active=!1},onCancel:function(){this.active=!1}}},Vt=Et,Nt=(i("d6bc"),Object(l["a"])(Vt,At,jt,!1,null,null,null)),It=Nt.exports,Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("md-dialog-confirm",{attrs:{"md-active":e.data.active,"md-title":"Sei sicuro di voler eliminare la missione selezionata?","md-content":"Verranno eliminati <strong>definitivamente</strong> tutti i dati (posizioni ecc.) relativi alla missione.","md-confirm-text":"CONTINUA","md-cancel-text":"ANNULLA"},on:{"update:mdActive":function(t){return e.$set(e.data,"active",t)},"update:md-active":function(t){return e.$set(e.data,"active",t)},"md-cancel":e.onCancel,"md-confirm":e.onConfirm}})],1)},St=[],Tt={name:"deleteMissioneDialog",data:function(){return{active:!1}},props:{data:{type:Object}},methods:{onConfirm:function(){this.$emit("deleteMissione"),this.active=!1},onCancel:function(){this.active=!1}}},Lt=Tt,Pt=(i("c0a9"),Object(l["a"])(Lt,Ot,St,!1,null,null,null)),$t=Pt.exports,Bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-dialog",{attrs:{"md-active":this.isActive,"md-close-on-esc":!1,"md-fullscreen":!1},on:{"update:mdActive":function(t){return e.$set(this,"isActive",t)},"update:md-active":function(t){return e.$set(this,"isActive",t)}}},[i("md-dialog-title",[e._v("Modifica il nome della missione")]),i("md-dialog-content",[i("div",{staticClass:"md-layout md-alignment-center-center"},[i("div",{staticClass:"md-layout-item md-large-size-100 md-medium-size-100 md-small-size-100 md-xsmall-size-100",staticStyle:{"text-align":"center"}},[i("form",{staticClass:"md-layout",on:{submit:function(t){return t.preventDefault(),e.editMissione()}}},[i("md-field",[i("label",{attrs:{for:"name"}},[e._v("Nome")]),i("md-input",{attrs:{type:"text",name:"name",id:"name",autocomplete:"name",maxlength:"50",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),i("span",{staticClass:"md-error"},[e._v("Inserire il nome della missione")])],1),i("md-button",{staticClass:"style-red-bg",attrs:{type:"submit"}},[e._v("MODIFICA")]),i("md-button",{staticClass:"md-accent",on:{click:function(t){return e.close()}}},[e._v("ANNULLA")])],1)])])])],1)},Ft=[],Ut={name:"updateMissioneDialog",props:{data:{type:Object}},data:function(){return{name:null,isActive:!0}},mounted:function(){this.name=this.data.nameMissione},methods:{editMissione:function(){this.isActive=!1,this.$emit("updateMissione",{id:this.data.idMissione,name:this.name})},close:function(){this.isActive=!1,this.$emit("updateMissioneDialogClosed")}}},Gt=Ut,qt=Object(l["a"])(Gt,Bt,Ft,!1,null,null,null),Ht=qt.exports,Zt={name:"Missioni",data:function(){return{showNavigation:!1,loading:!1,message:{active:!1,content:null,url:null},deleteDataDialog:{active:!1,idMissione:null},updateDataDialog:{active:!1,idMissione:null,nameMissione:null},completeMissionDialog:{active:!1,idMissione:null},datiPresenti:!1,allMissioni:[],errored:!1,ricercaCompleted:!1,moment:gt.a,newMissione:!1,router:Ni}},components:{Dialog:P,nuovaMissioneDialog:Rt,updateMissioneDialog:Ht,deleteMissioneDialog:$t,completeMissioneDialog:It},mounted:function(){this.fetchMissioni()},beforeCreate:function(){var e=this;this.idRicerca=this.$route.params.idRicerca,isFinite(String(this.idRicerca))||Ni.push({name:"RicercaPersona"});var t=$.getCorpoVVFData()["id"];vt.getRicercaByID(this.idRicerca,t).then((function(t){var i=t.data[0];switch(i["error"]){case"401":e.errored=!0,e.dialog("Errore","Accesso non autorizzato, non puoi a visualizzare questa pagina","#/dashboard");break;case"404":e.datiPresenti=!1;break}i.error||(e.ricercaCompleted=i.ricerca.completed)}))},methods:{dialog:function(e,t,i){this.message.active=!0,this.message.title=e,this.message.content=t,this.message.url=i},openModificaMissione:function(e,t){this.updateDataDialog.idMissione=e,this.updateDataDialog.nameMissione=t,this.updateDataDialog.active=!0},openNewMissione:function(){this.newMissione=!0},closeNewMissione:function(){this.newMissione=!1},fetchMissioni:function(){var e=this;this.loading=!0,ht.getMissioniByRicerca(this.idRicerca).then((function(t){var i=t.data[0];if(e.allMissioni=[],i["error"])switch(i["error"]){case"404":e.datiPresenti=!1,e.newMissione=!1;break}else e.allMissioni=i.missioni,e.allMissioni=e.orderMissioniByDate(i.missioni),e.datiPresenti=!0,e.newMissione=!1;e.loading=!1}),(function(t){e.errored=!0,console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard"),e.loading=!1})),this.updateDataDialog.active=!1},orderMissioniByDate:function(e){for(var t=[],i=0;i<e.length;i++){var a=e[i],s=gt()(a.startTime).locale("it").format("Do MMMM"),o=[];if(o.id=a.id,o.name=a.name,o.startTime=a.startTime,o.endTime=a.endTime,o.completed=a.completed,o.fkRicerca=a.fkRicerca,0!==i){var n=e[i-1].startTime;if(gt()(o.startTime).isSame(n,"day"))t[t.length-1][1].data.push(o);else{var r=gt()(a.startTime).locale("it").format("Do MMMM");t.push([r,{data:[o]}])}}else t.push([s,{data:[o]}])}return t},createNewMissione:function(e){var t=this;this.loading=!0;var i=e;this.moment().locale("it");var a=this.moment().format();ht.newMissione(i,a,a,!1,this.idRicerca).then((function(e){var i=e.data[0];i.error?(t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona/missioni/"+t.idRicerca)):(t.fetchMissioni(),t.loading=!1)}),(function(e){console.log(e),t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona/missioni/"+t.idRicerca),t.loading=!1}))},updateMissione:function(e){var t=this;this.loading=!0;var i=e.id,a=e.name;ht.updateMissione(i,a).then((function(e){var i=e.data[0];i.error?(t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona/missioni/"+t.idRicerca)):t.fetchMissioni()}),(function(e){console.log(e),t.errored=!0,t.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona/missioni/"+t.idRicerca),t.loading=!1}))},closeUpdateMissione:function(){this.updateDataDialog.active=!1},completeMissione:function(){var e=this,t=this.completeMissionDialog.idMissione;ht.completeMissione(t).then((function(t){var i=t.data[0];if(!1===i.error)e.fetchMissioni(),e.completeMissionDialog.idMissione=null;else switch(i[0]["error"]){case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/ricercapersona/missioni/"+e.idRicerca);break}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard")}))},alertCompleteMissione:function(e){this.completeMissionDialog.active=!0,this.completeMissionDialog.idMissione=e},alertDeleteMissione:function(e){this.deleteDataDialog.active=!0,this.deleteDataDialog.idMissione=e},deleteMissione:function(){var e=this,t=this.deleteDataDialog.idMissione;ht.deleteMissione(t).then((function(t){var i=t.data;if(!1===i.error)e.fetchMissioni();else if(!0===i.error)e.dialog("Errore","Impossibile cancellare i dati relativi alla missione, contattare l'amministratore","#/ricercapersona/missioni/"+e.idRicerca);else switch(i[0]["error"]){case"401":e.dialog("Errore","Non sei autorizzato a cancellare i dati di questa missione, se credi ci sia stato un errore, contatta l'amministratore","#/ricercapersona/missioni/"+e.idRicerca);break;case"404":e.dialog("Errore","Il server non ha restituito i dati, contatta l' amministratore","#/ricercapersona/missioni/"+e.idRicerca);break}}),(function(t){console.log(t),e.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/dashboard")}))}}},Jt=Zt,Kt=Object(l["a"])(Jt,Ct,zt,!1,null,null,null),Qt=Kt.exports,Wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("div",[i("span",{staticClass:"md-display-1"},[e._v(e._s(this.currentMissione.name))]),i("br"),i("br"),i("md-card",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[this.updating?i("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):e._e(),i("md-card-actions",{attrs:{"md-alignment":"left"}},[i("md-button",{staticClass:"style-blue-text",on:{click:function(t){return e.router.push({name:"Missioni",params:{idRicerca:e.currentMissione.fkRicerca}})}}},[e._v("INDIETRO")]),i("md-button",{staticClass:"style-red-text",on:{click:function(t){return e.updateData()}}},[e._v("AGGIORNA")])],1),i("md-divider",{staticClass:"md-inset"}),i("md-card-header",{staticStyle:{"text-align":"left"}},[i("div",{staticClass:"md-title"},[e._v("Mappa Live")])]),i("md-card-content",[i("l-map",{staticStyle:{"min-height":"600px"},attrs:{center:e.map.center,zoom:e.map.zoom,"v-resize":e.onResize}},[i("l-tile-layer",{attrs:{url:e.map.url}}),0!==this.groupPositions.length?i("div",e._l(this.groupPositions,(function(t){return i("div",{key:t[0].id},[i("l-marker",{attrs:{"lat-lng":t[1].latLng[0]}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1),i("l-marker",{attrs:{"lat-lng":t[1].latLng[t[1].latLng.length-1]}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1),i("l-polyline",{staticStyle:{weight:"5"},attrs:{"lat-lngs":t[1].latLng,color:e.randomColor({luminosity:"bright",format:"rgb"})}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1)],1)})),0):e._e()],1)],1)],1),i("br"),i("md-card",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[this.updating?i("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):e._e(),i("md-card-header",{staticStyle:{"text-align":"left"}},[i("div",{staticClass:"md-title"},[e._v("Lista vigili presenti")])]),i("md-card-content",[0!==this.groupPositions.length?i("div",[i("div",{staticStyle:{"overflow-x":"auto"}},[i("md-table",[i("md-table-row",[i("md-table-head",{staticClass:"style-table-header"},[e._v("NOME")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("COGNOME")]),i("md-table-head",{staticClass:"style-table-header"},[e._v("NUMERO DI TELEFONO")])],1),e._l(this.groupPositions,(function(t){return i("md-table-row",{key:t[2].data[0].id},[i("md-table-head",{attrs:{"md-label":"name"}},[e._v(e._s(t[2].data[0].firemanName))]),i("md-table-head",{attrs:{"md-label":"surname"}},[e._v(e._s(t[2].data[0].firemanSurname))]),i("md-table-head",{attrs:{"md-label":"phone"}},[e._v(e._s(t[2].data[0].firemanPhone))]),i("md-table-head",{attrs:{"md-label":"mostra"}},[i("a",{on:{click:function(i){e.map.center=t[1].latLng[0]}}},[e._v("MOSTRA IN MAPPA")])])],1)}))],2)],1)]):i("div",[i("md-empty-state",{attrs:{"md-rounded":"","md-icon":"search_off","md-label":"","md-description":"Non c'è nessun vigile che partecipa a questa missione."}})],1)])],1)],1)],1)},Xt=[],Yt=(i("d81d"),i("e11e")),ei=i.n(Yt),ti=i("2699"),ii=i("a40a"),ai=i("f60f"),si=i("4e2b"),oi=i("635f"),ni=i("fd9b"),ri=i.n(ni),li={name:"DettagliMissione",data:function(){return{showNavigation:!1,message:{active:!1,content:null,url:null},loading:!0,updating:!1,errored:!1,datiPresenti:!1,idMissione:null,posizioni:[],moment:gt.a,router:Ni,randomColor:ri.a,currentMissione:[],groupPositions:[],trentoLatLng:[46.074779,11.121749],map:{zoom:11.2,center:[46.074779,11.121749],url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png"}}},components:{Dialog:P,LMap:ti["a"],LTileLayer:ii["a"],LPopup:ai["a"],LMarker:si["a"],LPolyline:oi["a"]},mounted:function(){var e=this;console.log(ei.a);var t=$.getCorpoVVFData()["id"];this.idMissione=this.$route.params.idMissione,ht.getMissioneById(this.idMissione,t).then((function(t){var i=t.data[0];if(i.error)switch(i["error"]){case"401":e.errored=!0,e.dialog("Errore","Accesso non autorizzato, non puoi a visualizzare questa pagina","#/dashboard");break;case"404":e.datiPresenti=!1,e.dialog("Errore","Impossibile trovare la missione selezionata","#/ricercapersona");break}else e.datiPresenti=!0,e.currentMissione=i.missione,e.updating=!0,e.getRiepilogoMissione(e.idMissione),e.loading=!1}))},beforeCreate:function(){this.idMissione=this.$route.params.idMissione,isFinite(String(this.idMissione))||Ni.push({name:"RicercaPersona"})},methods:{dialog:function(e,t,i){this.message.title=e,this.message.content=t,this.message.url=i,this.message.active=!0},onResize:function(){this.$refs.map[0].mapObject._onResize()},updateData:function(){this.updating=!0,this.getRiepilogoMissione(this.idMissione)},getRiepilogoMissione:function(e){var t=this;ht.getRiepilogoMissione(e).then((function(e){var i=e.data[0];t.groupPositions=i.data,t.updating=!1,console.log(t.groupPositions)}))}}},di=li,ci=Object(l["a"])(di,Wt,Xt,!1,null,null,null),mi=ci.exports,ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("div",[i("span",{staticClass:"md-display-1"},[e._v("Riepilogo giornaliero")]),i("br"),i("span",{staticClass:"md-subheading"},[e._v(e._s(this.dailyMissioni[0]))]),i("br"),i("br"),i("md-card",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[this.updating?i("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):e._e(),i("md-card-actions",{attrs:{"md-alignment":"left"}},[i("md-button",{staticClass:"style-blue-text",on:{click:function(t){return e.router.push({name:"Missioni",params:{idRicerca:e.$route.params.idRicerca}})}}},[e._v("INDIETRO")]),i("md-button",{staticClass:"style-red-text",on:{click:function(t){return e.updateData()}}},[e._v("AGGIORNA")])],1),i("md-divider",{staticClass:"md-inset"}),i("md-card-header",{staticStyle:{"text-align":"left"}},[i("div",{staticClass:"md-title"},[e._v("Mappa")])]),i("md-card-content",[i("l-map",{staticStyle:{"min-height":"600px"},attrs:{center:e.map.center,zoom:e.map.zoom,"v-resize":e.onResize}},[i("l-tile-layer",{attrs:{url:e.map.url}}),0!==this.groupPositions.length?i("div",e._l(this.groupPositions,(function(t,a){return i("div",{key:a},e._l(t,(function(t){return i("div",{key:t[0].id},[i("l-marker",{attrs:{"lat-lng":t[1].latLng[0]}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1),i("l-marker",{attrs:{"lat-lng":t[1].latLng[t[1].latLng.length-1]}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1),i("l-polyline",{staticStyle:{weight:"5"},attrs:{"lat-lngs":t[1].latLng,color:t[2].data[0].traceColor}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1)],1)})),0)})),0):e._e()],1)],1)],1),i("br")],1)],1)},pi=[],gi={name:"RiepilogoGiornaliero",data:function(){return{showNavigation:!1,message:{active:!1,content:null,url:null},loading:!0,updating:!1,errored:!1,datiPresenti:!1,dailyMissioni:null,posizioni:[],moment:gt.a,router:Ni,randomColor:ri.a,groupPositions:[],trentoLatLng:[46.074779,11.121749],map:{zoom:11.2,center:[46.074779,11.121749],url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png"}}},components:{Dialog:P,LMap:ti["a"],LTileLayer:ii["a"],LPopup:ai["a"],LMarker:si["a"],LPolyline:oi["a"]},mounted:function(){console.log(ei.a),this.dailyMissioni=this.$route.params.missioni,this.loading=!0,this.updating=!0;for(var e=this.$route.params.missioni,t=e[1].data,i=0;i<t.length;i++)this.getRiepilogoMissione(t[i].id);this.loading=!1},methods:{dialog:function(e,t,i){this.message.title=e,this.message.content=t,this.message.url=i,this.message.active=!0},onResize:function(){this.$refs.map[0].mapObject._onResize()},updateData:function(){this.groupPositions=[],this.updating=!0;for(var e=this.$route.params.missioni,t=e[1].data,i=0;i<t.length;i++)this.getRiepilogoMissione(t[i].id)},getRiepilogoMissione:function(e){var t=this;ht.getRiepilogoMissione(e).then((function(e){var i=e.data[0];t.groupPositions.push(i.data),t.updating=!1,console.log(t.groupPositions)}))}}},hi=gi,vi=Object(l["a"])(hi,ui,pi,!1,null,null,null),fi=vi.exports,bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("div",[i("span",{staticClass:"md-display-1"},[e._v("Riepilogo complessivo")]),i("br"),0!==this.allMissioni.length?i("span",{staticClass:"md-subheading"},[e._v("dal "+e._s(this.allMissioni[0][0])+" al "+e._s(this.allMissioni[this.allMissioni.length-1][0]))]):e._e(),i("br"),i("br"),i("md-card",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[this.updating?i("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):e._e(),i("md-card-actions",{attrs:{"md-alignment":"left"}},[i("md-button",{staticClass:"style-blue-text",on:{click:function(t){return e.router.push({name:"Missioni",params:{idRicerca:e.$route.params.idRicerca}})}}},[e._v("INDIETRO")]),i("md-button",{staticClass:"style-red-text",on:{click:function(t){return e.updateData()}}},[e._v("AGGIORNA")])],1),i("md-divider",{staticClass:"md-inset"}),i("md-card-header",{staticStyle:{"text-align":"left"}},[i("div",{staticClass:"md-title"},[e._v("Mappa")])]),i("md-card-content",[i("l-map",{staticStyle:{"min-height":"600px"},attrs:{center:e.map.center,zoom:e.map.zoom,"v-resize":e.onResize}},[i("l-tile-layer",{attrs:{url:e.map.url}}),0!==this.groupPositions.length?i("div",e._l(this.groupPositions,(function(t,a){return i("div",{key:a},e._l(t,(function(t){return i("div",{key:t[0].id},[i("l-marker",{attrs:{"lat-lng":t[1].latLng[0]}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1),i("l-marker",{attrs:{"lat-lng":t[1].latLng[t[1].latLng.length-1]}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1),i("l-polyline",{staticStyle:{weight:"5"},attrs:{"lat-lngs":t[1].latLng,color:e.randomColor({luminosity:"bright",format:"rgb"})}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t[2].data[0].firemanName+" "+t[2].data[0].firemanSurname)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t[2].data[0].firemanPhone)+" "),i("br")])])],1)],1)})),0)})),0):e._e()],1)],1)],1),i("br")],1)],1)},yi=[],_i={name:"RiepilogoComplessivo",data:function(){return{showNavigation:!1,message:{active:!1,content:null,url:null},loading:!0,updating:!1,errored:!1,datiPresenti:!1,allMissioni:null,posizioni:[],moment:gt.a,router:Ni,randomColor:ri.a,groupPositions:[],trentoLatLng:[46.074779,11.121749],map:{zoom:11.2,center:[46.074779,11.121749],url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png"}}},components:{Dialog:P,LMap:ti["a"],LTileLayer:ii["a"],LPopup:ai["a"],LMarker:si["a"],LPolyline:oi["a"]},mounted:function(){console.log(ei.a),this.allMissioni=this.$route.params.missioni,this.loading=!0,this.updating=!0;for(var e=this.$route.params.missioni,t=0;t<e.length;t++)for(var i=e[t][1].data,a=0;a<i.length;a++)this.getRiepilogoMissione(i[a].id);this.loading=!1},methods:{dialog:function(e,t,i){this.message.title=e,this.message.content=t,this.message.url=i,this.message.active=!0},onResize:function(){this.$refs.map[0].mapObject._onResize()},updateData:function(){this.posizioni=[],this.updating=!0;for(var e=this.$route.params.missioni,t=0;t<e.length;t++)for(var i=e[t][1].data,a=0;a<i.length;a++)this.getRiepilogoMissione(i[a].id)},getRiepilogoMissione:function(e){var t=this;ht.getRiepilogoMissione(e).then((function(e){var i=e.data[0];t.groupPositions.push(i.data),t.updating=!1}))}}},Ci=_i,zi=Object(l["a"])(Ci,bi,yi,!1,null,null,null),ki=zi.exports,xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-app-content",{staticStyle:{height:"100%",border:"none"}},[this.message.active?i("Dialog",{attrs:{data:this.message}}):e._e(),this.loading?i("div",[i("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1):i("div",[i("span",{staticClass:"md-display-1"},[e._v(e._s(this.currentRicercaPersona.name))]),i("br"),i("br"),i("md-card",{staticClass:"md-layout-item md-size-100 md-small-size-100"},[i("md-card-actions",{attrs:{"md-alignment":"left"}},[i("md-button",{staticClass:"style-red-text",on:{click:function(t){return e.router.push({name:"Missioni",params:{idRicerca:e.idRicerca}})}}},[e._v("INDIETRO")])],1),i("md-divider",{staticClass:"md-inset"}),i("md-card-header",{staticStyle:{"text-align":"left"}},[i("div",{staticClass:"md-title"},[e._v("Ultime posizioni")]),i("br"),e._v(" Negli ultimi "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.filtroMinuti,expression:"filtroMinuti",modifiers:{number:!0}}],staticStyle:{outline:"none"},attrs:{type:"range",min:"5",max:"30"},domProps:{value:e.filtroMinuti},on:{__r:function(t){e.filtroMinuti=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}}),e._v(" "+e._s(e.filtroMinuti)+" minuti ")]),i("md-card-content",[i("l-map",{staticStyle:{"min-height":"600px"},attrs:{center:e.map.center,zoom:e.map.zoom,"v-resize":e.onResize}},[i("l-tile-layer",{attrs:{url:e.map.url}}),this.posizioni!=[]?i("div",e._l(this.posizioni,(function(t){return i("div",{key:t.id},[i("l-marker",{attrs:{"lat-lng":[t.latitude,t.longitude]}},[i("l-popup",[i("div",[e._v(" Vigile: "+e._s(t.firemanName)+" "),i("br"),e._v(" Numero di telefono: "+e._s(t.firemanPhone)+" "),i("br"),e._v(" "+e._s(e.moment(t.date).locale("it").fromNow())+" ")])])],1)],1)})),0):e._e()],1)],1)],1),i("br")],1)],1)},Di=[],wi={getLatestUniquePosition:function(e,t){if(!$.isTokenValid())return!1;var i=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/posizioni/get-latest-unique-positions",{fkRicerca:e,time:t},{headers:{Authorization:i}})},getListaVigiliByMissione:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/posizioni/get-vigili-by-missione",{idMissione:e},{headers:{Authorization:t}})},getPosizioniByMissione:function(e){if(!$.isTokenValid())return!1;var t=$.getToken()["token"];return N.a.post("http://localhost:1337/api/v1/posizioni/get-posizioni-by-missione",{idMissione:e},{headers:{Authorization:t}})}},Mi={name:"LiveMap",data:function(){return{showNavigation:!1,message:{active:!1,content:null,url:null},loading:!0,errored:!1,idRicerca:null,posizioni:[],moment:gt.a,router:Ni,filtroMinuti:5,currentRicercaPersona:null,trentoLatLng:[46.074779,11.121749],map:{zoom:11.2,center:[46.074779,11.121749],url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png"}}},components:{Dialog:P,LMap:ti["a"],LTileLayer:ii["a"],LPopup:ai["a"],LMarker:si["a"]},mounted:function(){console.log(ei.a),this.idRicerca=this.$route.params.idRicerca},beforeCreate:function(){var e=this;this.idRicerca=this.$route.params.idRicerca;var t=this.idRicerca;isFinite(String(this.idRicerca))||Ni.push({name:"RicercaPersona"});var i=$.getCorpoVVFData()["id"];vt.getRicercaByID(t,i).then((function(i){var a=i.data[0];if(a.error)switch(a["error"]){case"401":e.errored=!0,e.dialog("Errore","Accesso non autorizzato, non puoi a visualizzare questa pagina","#/dashboard");break;case"404":e.datiPresenti=!1;break}else e.datiPresenti=!0,e.currentRicercaPersona=a.ricerca,e.loading=!1,e.getLatestPositions(t)}))},watch:{filtroMinuti:function(){this.getLatestPositions(this.idRicerca)}},methods:{getRicerca:function(e,t){var i=this;this.loading=!0,vt.getRicercaByID(e,t).then((function(e){var t=e.data[0];if(console.log(t),t.error)switch(t["error"]){case"401":i.errored=!0,i.dialog("Errore","Non sei autorizzato a visualizzare questa ricerca persona","#/ricercapersona");break;case"404":i.datiPresenti=!1;break}else i.datiPresenti=!0,i.currentRicercaPersona=t.ricerca;i.loading=!1}),(function(e){i.errored=!0,console.log(e),i.dialog("Errore","Errore, se il problema persiste contattare l'amministratore","#/ricercapersona"),i.loading=!1}))},getLatestPositions:function(e){var t=this;this.posizioni=[];var i=gt()().subtract(this.filtroMinuti,"minutes").format();wi.getLatestUniquePosition(e,i).then((function(e){var i=e.data;if(i!=[])for(var a=function(e){var a=i[e].fkVigile;fe.getVigileByID(a).then((function(a){var s=a.data[0],o=[];if(o.id=i[e].id,o.latitude=i[e].latitude,o.longitude=i[e].longitude,o.date=i[e].date,s.error)o.firemanName="Sconosciuto",o.firemanPhone="Sconosciuto";else{var n=s.vigile[0];o.firemanName=n.name+" "+n.surname,o.firemanPhone=n.phone}t.posizioni.push(o)}))},s=0;s<i.length;s++)a(s)}))},dialog:function(e,t,i){this.message.title=e,this.message.content=t,this.message.url=i,this.message.active=!0},onResize:function(){this.$refs.map[0].mapObject._onResize()}}},Ri=Mi,Ai=Object(l["a"])(Ri,xi,Di,!1,null,null,null),ji=Ai.exports;a["default"].use(m["a"]);var Ei=[{path:"/",name:"HomeLayout",component:A,children:[{path:"/",components:{homepage:k}},{path:"login",name:"Login",components:{homepage:H}}]},{path:"/dashboard",name:"Dashboard",component:X,redirect:{name:"Reperibilita"},meta:{requiresAuth:!0},children:[{path:"/impostazioni",components:{loggedContent:oe}},{path:"/vigili",components:{loggedContent:Ee}},{path:"/reperibilita",name:"Reperibilita",components:{loggedContent:$e}},{path:"/ricercapersona",name:"RicercaPersona",components:{loggedContent:_t}},{path:"/ricercapersona/missioni/:idRicerca",name:"Missioni",components:{loggedContent:Qt},props:!0},{path:"/ricercapersona/missioni/dettagli/:idMissione",name:"DettagliMissione",components:{loggedContent:mi},props:!0},{path:"/ricercapersona/missioni/riepilogo-giornaliero",name:"RiepilogoGiornaliero",components:{loggedContent:fi},props:!0},{path:"/ricercapersona/missioni/riepilogo-complessivo",name:"RiepilogoComplessivo",components:{loggedContent:ki},props:!0},{path:"/ricercapersona/livemap/:idRicerca",name:"LiveMap",components:{loggedContent:ji},props:!0}]}],Vi=new m["a"]({routes:Ei});Vi.beforeEach((function(e,t,i){e.matched.some((function(e){return e.meta.requiresAuth}))?$.isTokenValid()?i():i({path:"/login"}):i()}));var Ni=Vi,Ii=i("43f9"),Oi=i.n(Ii),Si=(i("51de"),i("e094"),i("0628")),Ti=i.n(Si);i("6cc5");a["default"].config.productionTip=!1,a["default"].use(Oi.a);var Li={persist:!0};a["default"].use(Ti.a,Li),delete Yt["Icon"].Default.prototype._getIconUrl,Yt["Icon"].Default.mergeOptions({iconRetinaUrl:i("584d"),iconUrl:i("6397"),shadowUrl:i("e2b9")}),new a["default"]({router:Ni,render:function(e){return e(c)}}).$mount("#app")},"5ede":function(e,t,i){},"5f1e":function(e,t,i){"use strict";var a=i("28fa"),s=i.n(a);s.a},"6cb1":function(e,t,i){"use strict";var a=i("9cd2"),s=i.n(a);s.a},"794b":function(e,t,i){},"7ce4":function(e,t,i){e.exports=i.p+"img/ricerche.de8af09f.png"},"7e88":function(e,t,i){e.exports=i.p+"img/snorkel.c4d14da4.jpg"},"7f38":function(e,t,i){},"85ec":function(e,t,i){},"9cd2":function(e,t,i){},a5d3:function(e,t,i){},b24f:function(e,t,i){},b418:function(e,t,i){},b560:function(e,t,i){"use strict";var a=i("794b"),s=i.n(a);s.a},c0a9:function(e,t,i){"use strict";var a=i("a5d3"),s=i.n(a);s.a},cb92:function(e,t,i){e.exports=i.p+"img/riepilogo.e2b07a28.png"},d61d:function(e,t,i){"use strict";var a=i("5ede"),s=i.n(a);s.a},d6bc:function(e,t,i){"use strict";var a=i("240f"),s=i.n(a);s.a},ebc0:function(e,t,i){"use strict";var a=i("0449"),s=i.n(a);s.a},ebec:function(e,t,i){e.exports=i.p+"img/login.2717d5f7.svg"},f8c3:function(e,t,i){"use strict";var a=i("ff51"),s=i.n(a);s.a},ff51:function(e,t,i){}});
//# sourceMappingURL=app.7fbb5585.js.map